@page
@model WebApplication1.Pages.AdminpageModel
@{
}
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<form method="post" asp-page-handler="Add">
    <label for="fname">id:</label><br>
    <input type="text" asp-for="@Model.Products.Id" readonly><br>
    <label for="fname">First name:</label><br>
    <input type="text" asp-for="@Model.Products.Name"><br>
    <label for="lname">Last name:</label><br>
    <input type="text" asp-for="@Model.Products.Description"><br><br>
    <label for="fname">price:</label><br>
    <input type="text" asp-for="@Model.Products.Price"><br>
    <label for="fname">photo:</label><br>
    <input type="text" asp-for="@Model.Products.ProductImage"><br>
    <input type="submit" value="Submit">
</form>
<br>
<br>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Id</th>
            <th>User Roles</th>
            <th>Manager</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var role in Model.roles)
        {
            <tr>
                <td>@role.Id</td>
                <td>@role.Name</td>
                <td><a class="btn btn-sm btn-danger order-button float-right" asp-page="/Adminpage" asp-route-RoleId="@role.Id" asp-page-handler="DeleteRole">Delete Role</a></td>
            </tr>
        }
        <form method="post" asp-page-handler="AddRole">
            <input name="roleName" />
            <button type="submit"></button>

        </form>
    </tbody>
</table>
<br />
<br />
<table class="table table-striped"> 
    <thead>
        <tr>
            <th>Id</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Manager</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var user in Model.users)
        {
        <tr>
            <td>@user.Id</td>
            <td>@user.FirstName</td>
            <td>@user.LastName</td>
            <td>@user.Email</td>
            <td><form method="post" asp-page-handler="ChangePassword" asp-route-UserId="@user.Id">
                <input asp-for="passwordString" />
                <input type="submit" value="Update Password" class="btn btn-default" />
                </form></td>
            <td><a class="btn btn-sm btn-danger order-button float-right" asp-page="/Adminpage" asp-route-UserId="@user.Id" asp-page-handler="DeleteUser">Delete User</a></td>
        </tr>
        }
    </tbody>
</table>


